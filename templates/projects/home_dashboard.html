{% extends 'base.html' %}
{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-4">Welcome to Spray Foam Bid Calculator</h2>

  <div class="row">
    <div class="col-md-6 mb-4">
      <div class="card shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Start New Project</h5>
          <p class="card-text">Create a new bid by entering property and spray foam details.</p>
          <a href="{% url 'project-create' %}" class="btn btn-primary">Create Project</a>
        </div>
      </div>
    </div>

    <div class="col-md-6 mb-4">
      <div class="card shadow-sm">
        <div class="card-body">
          <h5 class="card-title">View Projects</h5>
          <p class="card-text">Browse all your existing spray foam bids.</p>
          <a href="{% url 'project-list' %}" class="btn btn-secondary">View Projects</a>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6 mb-4">
      <div class="card shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Cost Settings</h5>
          <p class="card-text">Manage your material costs, labor rates, and other pricing assumptions.</p>
          <a href="{% url 'cost-settings' %}" class="btn btn-warning">Edit Cost Settings</a>
        </div>
      </div>
    </div>
    
    <div class="col-md-6 mb-4">
      <div class="card shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Company Profile</h5>
          <p class="card-text">Update your business information and branding details.</p>
          <a href="{% url 'cost-settings' %}" class="btn btn-dark">Edit Company Profile</a>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row mb-4">
    <div class="col-md-4">
      <div class="card text-white bg-info shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Quotes Last 30 Days</h5>
          <p class="card-text display-6">{{ recent_quotes_count }}</p>
        </div>
      </div>
    </div>
  
    <div class="col-md-4">
      <div class="card text-white bg-success shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Avg. Profit per Quote</h5>
          <p class="card-text display-6">${{ average_profit|floatformat:2 }}</p>
        </div>
      </div>
    </div>
  
    <div class="col-md-4">
      <div class="card text-white bg-primary shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Quotes Accepted</h5>
          <p class="card-text display-6">{{ accepted_quotes_count }}</p>
        </div>
      </div>
    </div>
  </div>
  
{% endblock %}
